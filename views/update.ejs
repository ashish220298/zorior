<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <title>User Update...</title>
</head>
<body>
    <div class="container">
        <div class="card">
            <form method="POST" action="http://localhost:8080/updateUser/<%=data.id%>">
            <h3>update</h3>
            <div class="form-group">
                <label>First Name</label>
                <input type="text" name="fname" value="<%=data.first_name%>" placeholder="Enter first name" class="form-control">
            </div>
            <div class="form-group">
                <label>Last Name</label>
                <input type="text" name="lname" placeholder="Enter last name" value="<%=data.last_name%>" class="form-control">
            </div>
           
            <label>Gender</label>
            <div class="form-group">
                <label>Male</label>
                <input type="radio" name="gender" value="male">
                <label>Female</label>
                <input type="radio" name="gender" value="female">
            </div>
           
            <div class="form-group">
                <label>Birthday</label>
                <input type="date" name="birthday" id="birthday"  class="form-control">
            </div>
            <div class="form-group">
                <input type="submit" name="submit" value="Update" class="btn btn-lg btn-info">
               <a href="/profile"><button>Cancel</button></a>
               
               

            </div>
        </form>
            
        </div>
    </div>
</body>
</html>

<style>
    .card {
        margin: 50px auto;
        width: 500px;
        box-shadow: 0px 0px 2px 2px lightgrey;
        padding: 10px;
    }
</style>

<script>
    function convert(str) {
  var date = new Date(str),
    mnth = ("0" + (date.getMonth() + 1)).slice(-2),
    day = ("0" + date.getDate()).slice(-2);
  return [date.getFullYear(), mnth, day].join("-");
}
let date = `<%=data.birthday%>"`;
let gender = `<%=data.gender%>`;
let newdate = convert(date)
console.log(newdate)
document.getElementById('birthday').value= newdate;
var elements = document.getElementsByName('gender');
for (i=0;i<elements.length;i++) {
  if(elements[i].value == gender) {
    elements[i].checked = true;
  }
}
</script>